{% extends 'layout.html' %}
{% block title %}列表{% endblock %}
{% block otherlink %}
<script type="text/javascript" src="{{url_for('static',filename='js/page/vmlist.js')}}"></script>
{% endblock %}
{% block body %}
	{% if running %}
	<h1>运行虚拟机列表</h1>
	{% else %}
	<h1>所有虚拟机列表</h1>
	{% endif %}

	{% if lenN>0 %}
	<table class="table table-bordered table-responsive table-hover table-striped">
		<thead>
			<tr>
				<td>vm名</td>
				<td>vm uuid</td>
				<td>操作</td>
			</tr>
		</thead>
		<tbody>
			{% for key in vmlist %}
			<tr>
				<td>{{key}}</td>
				<td>{{vmlist[key]}}</td>
				<td>
					{% if running %}
					<button data-name="{{key}}" data-uuid="{{vmlist[key]}}" type="button" class="btn btn-primary jBtnClose">关闭</button>
					{% else %}
					<button data-name="{{key}}" data-uuid="{{vmlist[key]}}" type="button" class="btn btn-primary jBtnBegin">启动</button>
					{% endif %}
					<button data-name="{{key}}" data-uuid="{{vmlist[key]}}" type="button" class="btn btn-danger jBtnDel">删除</button>
				</td>
			</tr>
			{% endfor %}
		</tbody>
	</table>
	{% else %}
	<div>暂无虚拟机运行</div>
	{% endif %}
{% endblock %}